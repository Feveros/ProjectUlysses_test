SAP_reduce_economic_crisis = {
    if = {
        limit = {
            has_idea = sap_economic_crisis_3
        }
        swap_ideas = {
            remove_idea = sap_economic_crisis_3
            add_idea = sap_economic_crisis_2
        }
    }
    else_if = {
        limit = {
            has_idea = sap_economic_crisis_2
        }
        swap_ideas = {
            remove_idea = sap_economic_crisis_2
            add_idea = sap_economic_crisis_1
        }
    }
    else = {
        remove_ideas = sap_economic_crisis_1
    }
}
SAP_increase_nobility_influence = {
    if = {
        limit = {
            has_idea = sap_nobility_influence_very_high
        }
        add_popularity = {
            ideology = monarchism
            popularity = 0.05
        }
    }
    else_if = {
        limit = {
            has_idea = sap_nobility_influence_high
        }
        swap_ideas = {
            remove_idea = sap_nobility_influence_high
            add_idea = sap_nobility_influence_very_high
        }
    }
    else_if = {
        limit = {
            has_idea = sap_nobility_influence_medium
        }
        swap_ideas = {
            remove_idea = sap_nobility_influence_medium
            add_idea = sap_nobility_influence_high
        }
    }
    else_if = {
        limit = {
            has_idea = sap_nobility_influence_low
        }
        swap_ideas = {
            remove_idea = sap_nobility_influence_low
            add_idea = sap_nobility_influence_medium
        }
    }
    else_if = {
        limit = {
            has_idea = sap_nobility_influence_very_low
        }
        swap_ideas = {
            remove_idea = sap_nobility_influence_very_low
            add_idea = sap_nobility_influence_low
        }
    }
}
SAP_decrease_nobility_influence = {
    if = {
        limit = {
            has_idea = sap_nobility_influence_very_high
        }
        swap_ideas = {
            remove_idea = sap_nobility_influence_very_high
            add_idea = sap_nobility_influence_high
        }
    }
    else_if = {
        limit = {
            has_idea = sap_nobility_influence_high
        }
        swap_ideas = {
            remove_idea = sap_nobility_influence_high
            add_idea = sap_nobility_influence_medium
        }
    }
    else_if = {
        limit = {
            has_idea = sap_nobility_influence_medium
        }
        swap_ideas = {
            remove_idea = sap_nobility_influence_medium
            add_idea = sap_nobility_influence_low
        }
    }
    else_if = {
        limit = {
            has_idea = sap_nobility_influence_low
        }
        swap_ideas = {
            remove_idea = sap_nobility_influence_low
            add_idea = sap_nobility_influence_very_low
        }
    }
    else_if = {
        limit = {
            has_idea = sap_nobility_influence_very_low
        }
        add_popularity = {
            ideology = monarchism
            popularity = -0.05
        }
    }
}
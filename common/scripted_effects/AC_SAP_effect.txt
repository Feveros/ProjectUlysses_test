SAP_reduce_economic_crisis = {
    if = {
        limit = {
            has_idea = sap_economic_crisis_3
        }
        swap_ideas = {
            remove_idea = sap_economic_crisis_3
            add_idea = sap_economic_crisis_2
        }
    }
    else_if = {
        limit = {
            has_idea = sap_economic_crisis_2
        }
        swap_ideas = {
            remove_idea = sap_economic_crisis_2
            add_idea = sap_economic_crisis_1
        }
    }
    else = {
        remove_ideas = sap_economic_crisis_1
    }
}
SAP_increase_nobility_influence = {
    if = {
        limit = {
            has_idea = sap_nobility_influence_very_high
        }
        add_popularity = {
            ideology = monarchism
            popularity = 0.05
        }
    }
    else_if = {
        limit = {
            has_idea = sap_nobility_influence_high
        }
        swap_ideas = {
            remove_idea = sap_nobility_influence_high
            add_idea = sap_nobility_influence_very_high
        }
    }
    else_if = {
        limit = {
            has_idea = sap_nobility_influence_medium
        }
        swap_ideas = {
            remove_idea = sap_nobility_influence_medium
            add_idea = sap_nobility_influence_high
        }
    }
    else_if = {
        limit = {
            has_idea = sap_nobility_influence_low
        }
        swap_ideas = {
            remove_idea = sap_nobility_influence_low
            add_idea = sap_nobility_influence_medium
        }
    }
    else = {
        swap_ideas = {
            remove_idea = sap_nobility_influence_very_low
            add_idea = sap_nobility_influence_low
        }
    }
}
SAP_decrease_nobility_influence = {
    if = {
        limit = {
            has_idea = sap_nobility_influence_very_high
        }
        swap_ideas = {
            remove_idea = sap_nobility_influence_very_high
            add_idea = sap_nobility_influence_high
        }
    }
    else_if = {
        limit = {
            has_idea = sap_nobility_influence_high
        }
        swap_ideas = {
            remove_idea = sap_nobility_influence_high
            add_idea = sap_nobility_influence_medium
        }
    }
    else_if = {
        limit = {
            has_idea = sap_nobility_influence_medium
        }
        swap_ideas = {
            remove_idea = sap_nobility_influence_medium
            add_idea = sap_nobility_influence_low
        }
    }
    else_if = {
        limit = {
            has_idea = sap_nobility_influence_low
        }
        swap_ideas = {
            remove_idea = sap_nobility_influence_low
            add_idea = sap_nobility_influence_very_low
        }
    }
    else = {
        add_popularity = {
            ideology = monarchism
            popularity = -0.05
        }
    }
}
SAP_decrease_noble_high_command = {
    if = {
        limit = {
            has_idea = sap_noble_high_command_5
        }
        swap_ideas = {
            remove_idea = sap_noble_high_command_5
            add_idea = sap_noble_high_command_4
        }
    }
    else_if = {
        limit = {
            has_idea = sap_noble_high_command_4
        }
        swap_ideas = {
            remove_idea = sap_noble_high_command_4
            add_idea = sap_noble_high_command_3
        }
    }
    else_if = {
        limit = {
            has_idea = sap_noble_high_command_4
        }
        swap_ideas = {
            remove_idea = sap_noble_high_command_4
            add_idea = sap_noble_high_command_3
        }
    }
    else_if = {
        limit = {
            has_idea = sap_noble_high_command_3
        }
        swap_ideas = {
            remove_idea = sap_noble_high_command_3
            add_idea = sap_noble_high_command_2
        }
    }
    else_if = {
        limit = {
            has_idea = sap_noble_high_command_2
        }
        swap_ideas = {
            remove_idea = sap_noble_high_command_2
            add_idea = sap_noble_high_command_1
        }
    }
    else_if = {
        limit = {
            has_idea = sap_noble_high_command_1
        }
        remove_ideas = sap_noble_high_command_1
    }
    else = {
        add_popularity = {
            ideology = monarchism
            popularity = -0.05
        }
    }
    add_power_balance_value = {
        id = SAP_power_balance
        value = -0.05
    }
}
SAP_decrease_government_dysfunction = {
    if = {
        limit = {
            has_idea = sap_dysfunctional_government_3
        }
        swap_ideas = {
            remove_idea = sap_dysfunctional_government_3
            add_idea = sap_dysfunctional_government_2
        }
    }
    else_if = {
        limit = {
            has_idea = sap_dysfunctional_government_2
        }
        swap_ideas = {
            remove_idea = sap_dysfunctional_government_2
            add_idea = sap_dysfunctional_government_1
        }
    }
    else_if = {
        limit = {
            has_idea = sap_dysfunctional_government_1
        }
        remove_ideas = sap_dysfunctional_government_1
    }
}
SAP_increase_government_dysfunction = {
    add_ideas = sap_dysfunctional_government_1
    if = {
        limit = {
            has_idea = sap_dysfunctional_government_1
        }
        swap_ideas = {
            remove_idea = sap_dysfunctional_government_1
            add_idea = sap_dysfunctional_government_2
        }
    }
    else_if = {
        limit = {
            has_idea = sap_dysfunctional_government_2
        }
        swap_ideas = {
            remove_idea = sap_dysfunctional_government_2
            add_idea = sap_dysfunctional_government_3
        }
    }
    else_if = {
        limit = {
            has_idea = sap_dysfunctional_government_3
        }
        add_stability = -0.01
    }
}